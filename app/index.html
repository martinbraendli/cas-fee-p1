<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <title>Reh-Minder -Project CAS FEE 01 by Martin & Felix</title>

    <link rel="icon" href="pix/reh_small_red.png" type="image/x-icon">
    <!--<link rel="stylesheet" href="css/normalize.css"/>-->
    <link href='http://fonts.googleapis.com/css?family=Julius+Sans+One|Glegoo:400,700' rel='stylesheet' type='text/css'>
    <!--layout style-sheet -->
    <link rel="stylesheet" href="css/styles.css"/>
    <!--theme style sheet -> start with redwhite -->
    <link rel="stylesheet" id="themeCss" href="css/redwhite.css"/>

    <!--link js sources-->
    <script src="js/handlebars-v3.0.3.js" type="text/javascript"></script>
    <script src="js/jquery-1.11.js"></script>
    <!--Handlebars with STATIC JSON OBJECT in but utf-8 fails-->
    <script src="js/integratehb.js" charset="UTF-8"> </script>
    <!--FancyTheme Chooser external-->
    <script src="js/ThemeChooser.js"></script>
    <script src="js/NoteFactory.js"></script>
    <script src="js/NoteProDAL.js"></script>
    <script src="js/NoteProController.js"></script>

</head>
<body>
<div id="wrapper">
    <header class="head clearfix">
        <!--<span class="">-->
        <img src="pix/reh-icon1.png">

        <h1>Reh-Minder</h1>

        <h2>brought you by Martin & Felix </h2>
    </header>
    <main>
        <div class="mainwrapper">
            <div class="menu-styles clearfix2">
                <div class="btn task-add-btn prominent">
                    <a href="#" id="addNote"
                       onclick="NoteProController.showEditScreen()">Add a Note</a>
                </div>
                <div class="style-chooser">
                    <span>Choose your Style</span>
                    <select id="ThemeChooser">
                        <option id="br" value="css/redwhite.css" >Red and White</option>
                        <option id="ob" value="css/blackorange.css" >Orange is the new Black</option>
                        <option id="pb" value="css/pinkblack.css" >Pink is the new Black</option>
                        <option id="bw" value="css/watherclean.css" >Bright Wather</option>
                    </select>
                </div>
            </div>
            <div class="sort-styles">
                <h3>Sort all my Notes</h3>
                <ul>
                    <li>
                        <a href="#" id="byFinishDate">Show by Finish Date</a>
                    </li>
                    <li>
                        <a href="#" id="byCreateDate">Show by Create Date</a>
                    </li>
                    <li>
                        <a href="#" id="byImportance">Show by Importance</a>
                    </li>
                    <li>
                        <a href="#" id="byAllCompleted">Show all Finished</a>
                    </li>
                </ul>
            </div>
            <div id="listnotes" class="listnotes">
                <div class="listheader">
                    <div class="list-head-elem">
                        Due Date
                    </div>
                    <div class="list-head-elem">
                        Task
                    </div>
                    <div class="list-head-elem">
                        Importance
                    </div>
                    <div class="list-head-elem">
                        Edit Note
                    </div>
                </div>
            </div>

            <!--Outer Wrapper for all listed notes-->
            <div id="noteoutput">
                <!--HB script -->
                <script id="viewNoteEntry" type="text/x-handlebars-template">
                    <!--loop all tasks here-->
                    {{#note}}
                    <div class="tasklistrow">
                        <div class="list-elem task-date">
                            <p>{{dateFinishUntil}}</p>
                            Status finished: {{finished}}
                            Done: <input type="checkbox" name="taskdone" value="finished" label="finished"/><br />
                        </div>
                        <div class="list-elem task-desc">
                            <h4>Title Task: {{title}}</h4>
                            <p>{{text}}</p>
                        </div>
                        <div class="list-elem task-importance">
                            <p>Importance: {{importance}}</p>
                            <span>
                                <img src="pix/reh_small_red.png" alt="#"/>
                                <img src="pix/reh_small_red.png" alt="#"/>
                                <img src="pix/reh_small_black.png" alt="#"/>
                                <img src="pix/reh_small_black.png" alt="#"/>
                                <img src="pix/reh_small_black.png" alt="#"/>
                            </span>
                        </div>
                        <div class="list-elem task-edit-btn">
                            <a onclick="NoteProController.showEditScreen({{id}})" href="#">Edit Note id:{{id}}</a>
                        </div>
                    </div>
                    {{/note}}
                </script>
            </div>
        </div>
        <!--start view ends here-->
        <!--edit form starts here not visible-->
        <div class="editwrapper">
            <div class="editcontent">
                <input type="hidden" id="currentId"/>

                <div class="editheader">
                    <h3>Add or Edit your Task</h3>
                </div>
                <form class="edittask">
                    <div class="edittaskrow">
                        <div class="taskedit-elem first-cell">
                            Task Title:
                        </div>
                        <div class="taskedit-elem  second-cell">
                            <input id="editTitle" name="tasktitle"
                                   type="text" maxlength="50"/>
                        </div>
                        <div class="taskedit-elem third-cell">
                            &nbsp;
                        </div>
                    </div>
                    <div class="edittaskrow">
                        <div class="taskedit-elem first-cell">
                            Description:
                        </div>
                        <div class="taskedit-elem second-cell">
                            <textarea id="editText" name="task-desc"
                                      rows="3" value="my new task" maxlength="500">your task goes here.. </textarea>
                        </div>
                        <div class="taskedit-elem third-cell">
                            &nbsp;
                        </div>
                    </div>
                    <div class="edittaskrow">
                        <div class="taskedit-elem first-cell">
                            Importance:
                        </div>
                        <div class="taskedit-elem  second-cell edit-important ">
                            <span>0 &nbsp;<input type="range" max="5" min="0" id="taskimportance" value="2"
                                                 onchange="updateTextInput(this.value);"/>&nbsp;5 &nbsp;</span>
                            <input id="printvalue" type="text" size="1"/>
                            <br/>
                            <span>
                                <img src="pix/reh_small_red.png" alt="#">
                                <img src="pix/reh_small_red.png" alt="#">
                                <img src="pix/reh_small_black.png" alt="#">
                                <img src="pix/reh_small_black.png" alt="#">
                                <img src="pix/reh_small_black.png" alt="#">
                            </span>
                        </div>
                        <div class="taskedit-elem third-cell">
                            &nbsp;
                        </div>
                    </div>
                    <div class="edittaskrow">
                        <div class="taskedit-elem first-cell">
                            Deadline:
                        </div>
                        <div class="taskedit-elem second-cell">
                            <input id="dateFinishUntil" name="duedate"
                                   type="datetime-local" accept=""/>
                        </div>
                        <div class="taskedit-elem third-cell">
                            &nbsp;
                        </div>
                    </div>
                    <div class="edittaskrow">
                        <div class="taskedit-elem first-cell">
                            &nbsp;
                        </div>
                        <div class="taskedit-elem second-cell btn prominent">
                            <a href="#" id="submittask"
                               onclick="NoteProController.saveNote()">Save Task</a>
                        </div>
                        <div class="taskedit-elem third-cell btn">
                            <a href="#" id="goback"
                               onclick="NoteProController.showMainScreen()">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer clearfix">
            <div class="footer-desc">
                CAS FEE -Projekt 01
            </div>
            <div class="footer-copy">
                &copy; by M & F
            </div>
        </div>
    </footer>
</div>
</body>
<script type="text/javascript">
    function updateTextInput(val) {
       // TODO für was ist das gedacht?
       // ERKLährung: dies ist für die Aktualisierung des current Importance Value beim Regler gedacht. Also Visualierungshilfe da von 0- 5
        document.getElementById('printvalue').value = val;
    }
   $(document).ready(function () {
        console.log("ready!");
        NoteProController.showAllEntries();
//        // Theme Chooser triggered on change of option tag
//        $("#ThemeChooser")
//                .change(function() {
//                    // empty var string
//                    var str = "";
//                    $("select option:selected" ).each(function() {
//                        // fill string with variable of VALUE of selected option
//                        str += $( this).val() + " ";
//                    });
//                    // adress ID link-Css and change attribut href with string
//                    $("#themeCss").attr('href', str);
//                    console.log(str);
//                })
//        // trigger this on change of option
//        .trigger("change");



//        // 0. DATA ( CONTEXT ) in JSON Format
//        var alltasks = { note: [
//                        {
//                            id: 1,
//                            finished: false,
//                            dateCreated: "2015-05-27T08:24:47.737Z",
//                            dateFinishUntil: "Fri Aug 12 2016 00:00:00 GMT+0200",
//                            title: "Titel Handlebars",
//                            text: "erfassen und einchecken im hsr-moodle. ich lappi sött scho lang das mache, also machmers jetzt denn.",
//                            importance: 4
//                        },
//                        {
//                            id: 2,
//                            finished: false,
//                            dateCreated: "2015-05-22T08:24:47.737Z",
//                            dateFinishUntil: "Fri Aug 12 2018 00:00:00 GMT+0200",
//                            title: "Mach es aschtändigs JSON Konstrukt",
//                            text: "Du sollst ein anständiges, valides Json machen sonst beisst es dich ",
//                            importance: 5
//                        },
//                        {
//                            id: 3,
//                            finished: true,
//                            dateCreated: "2015-03-27T08:24:47.737Z",
//                            dateFinishUntil: "Fri may 29 2015 00:00:00 GMT+0200",
//                            title: "Bratwurst auf dem Grill kehren",
//                            text: "Tsch- Tsch tsch... -Tscheisswerbung",
//                            importance: 2
//                        }
//                        ]
//        };
//
//        console.log(alltasks);
//        // 1. read the source from script-id
//        var NoteSource = $("#viewNoteEntry").html();
//        //2. Compile the Template with source
//        var NoteTemplate = Handlebars.compile(NoteSource);
//
//        //3 attach the compiled template into
//        $("#noteoutput").html(NoteTemplate(alltasks));

    });

</script>
</html>